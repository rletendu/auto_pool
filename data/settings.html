<!DOCTYPE html>
<html lang="fr">

<head>
    <title>AutoPool Settings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="w3.css">
    <link rel="stylesheet" type="text/css" href="leds.css">
    <!--    <script type="text/javascript" src="script.js"></script> -->
</head>

<body class="w3-animate-opacity">

    <div class="w3-card w3-blue w3-padding-small w3-center">
        <h1>AutoPool Settings Interface</h1>
    </div>

    <div class="w3-margin w3-center w3-card w3-padding-24">
        <a href="index.html"><img src="swimming_pool.png" alt="Monitor" /></a>
        <h3 class="w3-padding">Monitor Page</h3>
        <br><br>
    </div>




    <div class="w3-margin w3-center w3-card w3-padding-24">
        <h3>TFT Display Firmware update</h3>
        <img src="update.png">
        <h3>Select .tft file to upload</h3>
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="name" onchange="valSize(this)">
            <input id="button" type="submit" value="Upload & Update" disabled>
        </form>
        <script>
            function valSize(file) {
                // get the selected file size and send it to the ESP
                var fs = file.files[0].size;
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        // ESP received fileSize enable the submit button
                        document.getElementById("button").disabled = false;
                    }
                };
                xhttp.open("POST", "/fs", true);
                xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xhttp.send("fileSize=" + fs);
            }
        </script>
        <p>Updating might take a while if you have complex .tft file. Check Nextion display for progress.</p>
        <br><br>
    </div>

    <div class="w3-margin w3-center w3-card w3-padding-24">
        <input id="toto" type="number" step="0.1" value=12.1 min=6 max=8>
        <br>
        00 <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        6 <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <br>
        12 <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        18 <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <input class="w3-check" type="checkbox">
        <br><br>
    </div>

    <table class="w3-card w3-margin w3-center">
        <tr>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Temperature</p>
                <p class="w3-xxlarge w3-center"><span id="valeurTemperature">0</span> °C</p>
            </td>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Orp</p>
                <p class="w3-xxlarge w3-center"><span id="valeurOrp">0</span> mV</p>
            </td>
            <td>
                <p class="w3-xxlarge w3-center w3-green">pH</p>
                <p class="w3-xxlarge w3-center"><span id="valeurPh">0</span></p>
            </td>

        </tr>
        <tr>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Pression</p>
                <p class="w3-xxlarge w3-center"><span id="valeurPression">0</span> bar</p>
            </td>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Sys. Temp.</p>
                <p class="w3-xxlarge w3-center"><span id="valeurSysTemperature">0</span>°C</p>
            </td>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Sys. Hum.</p>
                <p class="w3-xxlarge w3-center"><span id="valeurSysHumidity">0</span> %</p>
            </td>
        </tr>
        <tr>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Daily Cl</p>
                <p class="w3-xxlarge w3-center"><span id="valeurDailyCl">0</span> ml</p>
            </td>
            <td>
                <p class="w3-xxlarge w3-center w3-green">Daily pH-</p>
                <p class="w3-xxlarge w3-center"><span id="valeurDailyPhm">0</span> ml</p>
            </td>
            <td></td>
        </tr>
    </table>
    <div class="w3-padding w3-center">
        <i><a href=https://github.com/rletendu/auto_pool" style="text-decoration: none;">AutoPool 2020</a></i>
    </div>

</body>

</html>